local function onmana(self) if self["\109\097\110\097"] == self["\109\097\120\109\097\110\097"] then self["\109\097\110\097"] = 0x0 local item = SpawnPrefab("\111\118\095\112\108\117\109\101\049") item["\099\111\109\112\111\110\101\110\116\115"]["\115\116\097\099\107\097\098\108\101"]:SetStackSize(0x5) self["\105\110\115\116"]["\099\111\109\112\111\110\101\110\116\115"]["\105\110\118\101\110\116\111\114\121"]:GiveItem(item) end self["\105\110\115\116"]["\110\101\116\095\109\097\110\097"]:set(self["\109\097\110\097"]) end local function onmaxmana(self) self["\105\110\115\116"]["\110\101\116\095\109\097\120\109\097\110\097"]:set(self["\109\097\120\109\097\110\097"]) end local Ov_Mana = Class(function(self, inst) self["\105\110\115\116"] = inst self["\109\097\110\097"] = 0x0 self["\109\097\120\109\097\110\097"] = 0x64 end, nil, { mana = onmana, maxmana = onmaxmana, }) Ov_Mana["\071\101\116\077\097\110\097"] = function(self) return self["\109\097\110\097"] or 0x0 end Ov_Mana["\083\101\116\077\097\110\097"] = function(self,amount) self["\109\097\110\097"] = amount self["\109\097\120\109\097\110\097"] = amount end Ov_Mana["\083\101\116\077\097\120\077\097\110\097"] = function(self,amount) self["\109\097\120\109\097\110\097"] = amount end Ov_Mana["\083\101\116\086\097\108"] = function(self,val) self["\109\097\110\097"] = math["\099\108\097\109\112"](val, 0x0, self["\109\097\120\109\097\110\097"]) end Ov_Mana["\068\111\068\101\108\116\097"] = function(self,amount) self:SetVal(self["\109\097\110\097"] + amount) end Ov_Mana["\071\101\116\080\101\114\099\101\110\116"] = function(self) return self["\109\097\110\097"] / self["\109\097\120\109\097\110\097"] end Ov_Mana["\083\101\116\080\101\114\099\101\110\116"] = function(self,percent) self:SetVal(self["\109\097\120\109\097\110\097"] * percent) end Ov_Mana["\079\110\083\097\118\101"] = function(self) return { loadmana = self["\109\097\110\097"], loadmaxmana = self["\109\097\120\109\097\110\097"], } end Ov_Mana["\079\110\076\111\097\100"] = function(self,data) if data then self["\109\097\110\097"] = data["\108\111\097\100\109\097\110\097"] self["\109\097\120\109\097\110\097"] = data["\108\111\097\100\109\097\120\109\097\110\097"] end end return Ov_Mana
